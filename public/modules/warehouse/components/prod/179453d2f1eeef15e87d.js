(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"KHd+":function(e,t,n){"use strict";function a(e,t,n,a,o,r,i,s){var c,d="function"==typeof e?e.options:e;if(t&&(d.render=t,d.staticRenderFns=n,d._compiled=!0),a&&(d.functional=!0),r&&(d._scopeId="data-v-"+r),i?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},d._ssrRegister=c):o&&(c=s?function(){o.call(this,this.$root.$options.shadowRoot)}:o),c)if(d.functional){d._injectStyles=c;var u=d.render;d.render=function(e,t){return c.call(t),u(e,t)}}else{var l=d.beforeCreate;d.beforeCreate=l?[].concat(l,c):[c]}return{exports:e,options:d}}n.d(t,"a",function(){return a})},x9zi:function(e,t,n){"use strict";n.r(t);var a={data:function(){return{records:[],columns:["code","warehouse_initial","warehouse_end","state","created_at","id"]}},created:function(){this.table_options.headings={code:"Código",warehouse_initial:"Origen",warehouse_end:"Destino",state:"Estado de la Solicitud",created_at:"Fecha de la Solicitud",id:"Acción"},this.table_options.sortable=["code","warehouse_initial","warehouse_end","state","created_at"],this.table_options.filterable=["code","warehouse_initial","warehouse_end","state","created_at"]},mounted:function(){this.initRecords(this.route_list,"")},methods:{reset:function(){},rejectedRequest:function(e){var t=this;bootbox.confirm({title:"Rechazar operación?",message:"<p>¿Seguro que desea rechazar esta operación?. Una vez rechazada la operación no se podrán realizar cambios en la misma.<p>",size:"medium",buttons:{cancel:{label:'<i class="fa fa-times"></i> Cancelar'},confirm:{label:'<i class="fa fa-check"></i> Confirmar'}},callback:function(n){if(n){var a=t.records[e-1],o=t.records[e-1].id;axios.put("/"+t.route_update+"/movement-rejected/"+o,a).then(function(e){void 0!==e.data.redirect&&(location.href=e.data.redirect)}).catch(function(e){if(t.errors=[],void 0!==e.response)for(var n in e.response.data.errors)e.response.data.errors[n]&&t.errors.push(e.response.data.errors[n][0])})}}})},approvedRequest:function(e){var t=this;bootbox.confirm({title:"Aprobar operación?",message:"<p>¿Seguro que desea aprobar esta operación?. Una vez aprobada la operación no se podrán realizar cambios en la misma.<p>",size:"medium",buttons:{cancel:{label:'<i class="fa fa-times"></i> Cancelar'},confirm:{label:'<i class="fa fa-check"></i> Confirmar'}},callback:function(n){if(n){var a=t.records[e-1],o=t.records[e-1].id;axios.put("/"+t.route_update+"/movement-approved/"+o,a).then(function(e){void 0!==e.data.redirect&&(location.href=e.data.redirect)}).catch(function(e){if(t.errors=[],void 0!==e.response)for(var n in e.response.data.errors)e.response.data.errors[n]&&t.errors.push(e.response.data.errors[n][0])})}}})}}},o=n("KHd+"),r=Object(o.a)(a,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-client-table",{attrs:{columns:e.columns,data:e.records,options:e.table_options},scopedSlots:e._u([{key:"code",fn:function(t){return n("div",{staticClass:"text-center"},[n("span",[e._v("\n            "+e._s(t.row.code)+"\n        ")])])}},{key:"warehouse_initial",fn:function(t){return n("div",{},[n("span",[e._v("\n            "+e._s(t.row.warehouse_institution_warehouse_initial?t.row.warehouse_institution_warehouse_initial.warehouse.name:"N/A")+"\n        ")])])}},{key:"warehouse_end",fn:function(t){return n("div",{},[n("span",[e._v("\n            "+e._s(t.row.warehouse_institution_warehouse_end?t.row.warehouse_institution_warehouse_end.warehouse.name:"N/A")+"\n        ")])])}},{key:"state",fn:function(t){return n("div",{},[n("span",[e._v("\n            "+e._s(t.row.state?t.row.state:"N/A")+"\n        ")])])}},{key:"id",fn:function(t){return n("div",{staticClass:"text-center"},[n("div",{staticClass:"d-inline-flex"},[n("warehouse-movement-info",{attrs:{route_list:"movements/info/"+t.row.id}}),e._v(" "),"Aprobado"==t.row.state?n("warehouse-movement-confirm-create",{attrs:{movementid:t.row.id,route_update:"warehouse/movements/movement-complete"}}):e._e(),e._v(" "),n("button",{staticClass:"btn btn-success btn-xs btn-icon btn-action",attrs:{title:"Aceptar Solicitud","data-toggle":"tooltip",type:"button",disabled:"Pendiente"!=t.row.state},on:{click:function(n){return e.approvedRequest(t.index)}}},[n("i",{staticClass:"fa fa-check"})]),e._v(" "),n("button",{staticClass:"btn btn-danger btn-xs btn-icon btn-action",attrs:{title:"Rechazar Solicitud","data-toggle":"tooltip",type:"button",disabled:"Pendiente"!=t.row.state},on:{click:function(n){return e.rejectedRequest(t.index)}}},[n("i",{staticClass:"fa fa-ban"})])],1)])}}])})},[],!1,null,null,null);t.default=r.exports}}]);