(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"KHd+":function(e,t,o){"use strict";function c(e,t,o,c,i,a,r,s){var n,d="function"==typeof e?e.options:e;if(t&&(d.render=t,d.staticRenderFns=o,d._compiled=!0),c&&(d.functional=!0),a&&(d._scopeId="data-v-"+a),r?(n=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},d._ssrRegister=n):i&&(n=s?function(){i.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:i),n)if(d.functional){d._injectStyles=n;var l=d.render;d.render=function(e,t){return n.call(t),l(e,t)}}else{var u=d.beforeCreate;d.beforeCreate=u?[].concat(u,n):[n]}return{exports:e,options:d}}o.d(t,"a",(function(){return c}))},cOoO:function(e,t,o){"use strict";o.r(t);var c={props:{records:{type:Array,default:[]}},data:function(){return{accRecords:[],record_select:"",record:{id:"",code:"",group:"",subgroup:"",item:"",generic:"",specific:"",subspecific:"",denomination:"",active:!1},urlPrevious:"/accounting/accounts",operation:"create"}},created:function(){var e=this;EventBus.$on("register:account",(function(t){e.sendData(t)})),EventBus.$on("load:data-account-form",(function(t){null==t?e.reset(!1):e.record={id:t.id,code:t.code,denomination:t.denomination,active:t.active},$("input[name=active]").bootstrapSwitch("state",e.record.active),e.operation="update"}))},mounted:function(){var e=document.getElementById("code");Inputmask("9.9.9.99.99.99.999").mask(e),this.switchHandler("active"),this.reset()},methods:{reset:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&(this.accRecords=[]),this.record={id:"",group:"",subgroup:"",item:"",generic:"",specific:"",subspecific:"",denomination:"",active:!1},this.operation="create"},FormatCode:function(){var e=!0,t=[];return this.record.code.split("_").length>1&&(t.push("El campo código debe ser llenado completamente"),e=!1),""==this.record.denomination&&(t.push("El campo denominación es obligatorio."),e=!1),this.$parent.$refs.accountingAccountForm.showAlertMessages(t),e},sendData:function(e){var t=this;if(t.FormatCode()){var o=t.record,c={id:"",group:"",subgroup:"",item:"",generic:"",specific:"",subspecific:"",institutional:"",denomination:"",active:!1};c.id=o.id,c.group=o.code.split(".")[0],c.subgroup=o.code.split(".")[1],c.item=o.code.split(".")[2],c.generic=o.code.split(".")[3],c.specific=o.code.split(".")[4],c.subspecific=o.code.split(".")[5],c.institutional=o.code.split(".")[6],c.denomination=o.denomination,c.active=$("#active").prop("checked"),t.loading=!0,"create"==t.operation?axios.post(e,c).then((function(e){t.accRecords=[],t.accRecords=e.data.records,EventBus.$emit("reload:list-accounts",e.data.records),t.showMessage("store"),t.loading=!1})).catch((function(e){var o=[];if(void 0!==e.response){for(var c in e.response.data.errors)e.response.data.errors[c]&&o.push(e.response.data.errors[c][0]);t.$parent.$refs.accountingAccountForm.showAlertMessages(o)}})):axios.put(e+c.id,t.record).then((function(e){t.accRecords=[],t.accRecords=e.data.records,EventBus.$emit("reload:list-accounts",e.data.records),t.showMessage("update"),t.loading=!1})).catch((function(e){var o=[];if(void 0!==e.response){for(var c in e.response.data.errors)e.response.data.errors[c]&&o.push(e.response.data.errors[c][0]);t.$parent.$refs.accountingAccountForm.showAlertMessages(o)}})),t.reset()}}},watch:{record_select:function(e){var t=this;""!=e&&axios.get("/accounting/get-children-account/"+e).then((function(e){var o=e.data.account;t.record={code:o.code,denomination:o.denomination,active:o.active},$("input[name=active]").bootstrapSwitch("state",t.record.active)}))},records:function(e){this.accRecords=e}}},i=o("KHd+"),a=Object(i.a)(c,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("form",{staticClass:"form-horizontal"},[o("div",{staticClass:"card-body"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-6"},[o("div",{staticClass:"form-group"},[o("label",{staticClass:"control-label"},[e._v("Cuenta de nivel superior")]),e._v(" "),o("select2",{attrs:{options:e.accRecords},model:{value:e.record_select,callback:function(t){e.record_select=t},expression:"record_select"}})],1)]),e._v(" "),o("div",{staticClass:"col-md-6"},[o("div",{staticClass:"form-group"},[o("label",{staticClass:"control-label"},[e._v("Código")]),e._v(" "),o("div",{staticClass:"row inline-inputs"},[o("div",{staticClass:"col-6"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.record.code,expression:"record.code"}],staticClass:"form-control input-sm",attrs:{id:"code",type:"text",placeholder:"0.0.0.00.00.00.000","data-toggle":"tooltip",title:"Código de la cuenta patrimonial"},domProps:{value:e.record.code},on:{input:function(t){t.target.composing||e.$set(e.record,"code",t.target.value)}}})])])])]),e._v(" "),o("div",{staticClass:"col-md-6"},[o("div",{staticClass:"form-group"},[o("label",{staticClass:"control-label"},[e._v("Denominación")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.record.denomination,expression:"record.denomination"}],staticClass:"form-control input-sm",attrs:{type:"text",id:"denomination",name:"denomination","data-toggle":"tooltip",placeholder:"Descripción de la cuenta",title:"Denominación o concepto de la cuenta"},domProps:{value:e.record.denomination},on:{input:function(t){t.target.composing||e.$set(e.record,"denomination",t.target.value)}}})])]),e._v(" "),o("div",{staticClass:"col-6"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-3"},[o("div",{staticClass:"form-group"},[o("label",{staticClass:"control-label"},[e._v("Activa")]),e._v(" "),o("div",{staticClass:"col-12"},[o("div",{staticClass:"col-12 bootstrap-switch-mini"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.record.active,expression:"record.active"}],staticClass:"form-control bootstrap-switch",attrs:{id:"active","data-on-label":"SI","data-off-label":"NO",name:"active",type:"checkbox"},domProps:{checked:Array.isArray(e.record.active)?e._i(e.record.active,null)>-1:e.record.active},on:{change:function(t){var o=e.record.active,c=t.target,i=!!c.checked;if(Array.isArray(o)){var a=e._i(o,null);c.checked?a<0&&e.$set(e.record,"active",o.concat([null])):a>-1&&e.$set(e.record,"active",o.slice(0,a).concat(o.slice(a+1)))}else e.$set(e.record,"active",i)}}})])])])])])])])])])}),[],!1,null,null,null);t.default=a.exports}}]);