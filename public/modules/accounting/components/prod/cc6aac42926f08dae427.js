(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"KHd+":function(t,e,o){"use strict";function n(t,e,o,n,s,r,a,i){var c,d="function"==typeof t?t.options:t;if(e&&(d.render=e,d.staticRenderFns=o,d._compiled=!0),n&&(d.functional=!0),r&&(d._scopeId="data-v-"+r),a?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},d._ssrRegister=c):s&&(c=i?function(){s.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:s),c)if(d.functional){d._injectStyles=c;var l=d.render;d.render=function(t,e){return c.call(e),l(t,e)}}else{var u=d.beforeCreate;d.beforeCreate=u?[].concat(u,c):[c]}return{exports:t,options:d}}o.d(e,"a",(function(){return n}))},tZVJ:function(t,e,o){"use strict";o.r(e);var n={data:function(){return{records:[],columns:["code","denomination","status"],file:""}},created:function(){var t=this;this.table_options.headings={code:"CÓDIGO",denomination:"DENOMINACIÓN",status:"ESTADO DE LA CUENTA"},this.table_options.sortable=["code","denomination"],this.table_options.filterable=["code","denomination"],EventBus.$on("reset:import-form",(function(){t.reset()}))},methods:{reset:function(){document.getElementById("import_account").value="",this.records=[]},createRecord:function(t){this.$parent.createRecord(t)},importCalculo:function(){var t=this;this.records=[],this.$parent.$refs.accountingAccountForm.reset();var e=this,o=new FormData,n=document.querySelector("#import_account");o.append("file",n.files[0]),e.loading=!0,axios.post("/accounting/import",o,{headers:{"Content-Type":"multipart/form-data"}}).then((function(o){o.data.result?e.showMessage("custom","Éxito","success","screen-ok","Cuentas cargadas de manera existosa."):e.showMessage("custom","Error","danger","screen-error",o.data.message),o.data.errors.length>0?t.$parent.$refs.accountingAccountForm.showAlertMessages(o.data.errors):o.data.result&&o.data.records&&(t.records=o.data.records,EventBus.$emit("register:imported-accounts",t.records)),e.loading=!1})).catch((function(t){void 0!==t.response&&(422!=t.response.status&&500!=t.response.status||e.showMessage("custom","Error","danger","screen-error","El documento debe ser un archivo en formato: .xls .xlsx .ods")),e.loading=!1}))}}},s=o("KHd+"),r=Object(s.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"card-body"},[o("accounting-show-errors",{attrs:{options:t.errors}}),t._v(" "),o("form",{attrs:{method:"post",enctype:"multipart/form-data"},on:{submit:function(t){t.preventDefault()}}},[t._m(0),o("br"),t._v(" "),o("button",{staticClass:"btn btn-sm btn-info btn-import",attrs:{type:"button","data-toggle":"tooltip",title:"Presione para importar la información. Los archivos permitidos son: .csv, .ods, .xls o .xlsx"},on:{click:function(e){return t.setFile("import_account")}}},[o("i",{staticClass:"fa fa-upload"})]),t._v(" "),o("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"import_account",name:"import_account"},on:{change:function(e){return t.importCalculo()}}}),t._v(" "),o("br")]),t._v(" "),t._m(1),t._v(" "),o("div",{staticClass:"modal-footer"},[o("div",{staticClass:"form-group"},[o("modal-form-buttons",{attrs:{saveRoute:"/accounting/importedAccounts"}})],1)]),t._v(" "),o("div",[o("v-client-table",{attrs:{columns:t.columns,data:t.records,options:t.table_options},scopedSlots:t._u([{key:"status",fn:function(e){return o("div",{staticClass:"text-center"},[e.row.active?o("div",[o("span",{staticClass:"badge badge-success"},[o("strong",[t._v("Activa")])])]):o("div",[o("span",{staticClass:"badge badge-warning"},[o("strong",[t._v("Inactiva")])])])])}}])})],1)],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("label",[this._v("Cargar Hoja de calculo. Formatos permitidos:"),e("strong",[this._v(".xls .xlsx .ods")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"card-body"},[o("h6",[t._v("EJEMPLO: Formato de hoja de cálculo ")]),t._v(" "),o("table",{attrs:{cellpadding:"1",border:"1"}},[o("thead",[o("tr",[o("td",{attrs:{align:"center"}},[t._v("Código")]),t._v(" "),o("td",{attrs:{align:"center"}},[t._v("Denominación")]),t._v(" "),o("td",{attrs:{align:"center"}},[t._v("Activa")])])]),t._v(" "),o("tbody",[o("tr",[o("td",{attrs:{align:"center"}},[t._v("9.9.9.99.99.99")]),t._v(" "),o("td",{attrs:{align:"center"}},[t._v("Nombre de denominación")]),t._v(" "),o("td",{attrs:{align:"center"}},[t._v("SI ó NO")])])])])])}],!1,null,null,null);e.default=r.exports}}]);