(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"KHd+":function(e,t,s){"use strict";function a(e,t,s,a,o,i,n,r){var c,d="function"==typeof e?e.options:e;if(t&&(d.render=t,d.staticRenderFns=s,d._compiled=!0),a&&(d.functional=!0),i&&(d._scopeId="data-v-"+i),n?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(n)},d._ssrRegister=c):o&&(c=r?function(){o.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:o),c)if(d.functional){d._injectStyles=c;var l=d.render;d.render=function(e,t){return c.call(t),l(e,t)}}else{var u=d.beforeCreate;d.beforeCreate=u?[].concat(u,c):[c]}return{exports:e,options:d}}s.d(t,"a",(function(){return a}))},m1jL:function(e,t,s){"use strict";s.r(t);var a={data:function(){return{record:{id:"",observation:"",state:"",asset_request_id:""},records:[],errors:[],columns:["asset_request.code","state","user.name","created_at","observation","id"]}},created:function(){this.readRecords(this.route_list),this.table_options.headings={"asset_request.code":"Código de solicitud",state:"Estado de entrega","user.name":"Solicitante",created_at:"Fecha de Emisión",observation:"Observaciones",id:"Acción"},this.table_options.sortable=["asset_request.code","state","user.name","created_at"],this.table_options.filterable=["asset_request.code","state","user.name","created_at"]},methods:{reset:function(){this.record={id:"",observation:"",state:"",asset_request_id:""}},acceptRequest:function(e){var t=this,s=t.records[e-1];t.record.id=s.id,t.record.state="Aprobado",t.record.asset_request_id=s.asset_request.id;bootbox.confirm({title:"Aprobar entrega de equipos?",message:"<div class='row'><div class='col-md-12'><div class='form-group'><label>Observaciones generales</label> <textarea data-toggle='tooltip' class='form-control input-sm' title='Indique las observaciones presentadas en la solicitud' id='request_observation'></textarea></div></div></div>",size:"medium",buttons:{cancel:{label:'<i class="fa fa-times"></i> Cancelar'},confirm:{label:'<i class="fa fa-check"></i> Confirmar'}},callback:function(e){e&&(t.record.observation=document.getElementById("request_observation").value,t.createRecord("asset/requests/deliveries"))}})},rejectedRequest:function(e){var t=this,s=t.records[e-1];t.record.id=s.id,t.record.state="Rechazado",t.record.asset_request_id=s.asset_request.id;bootbox.confirm({title:"Rechazar entrega de equipos?",message:"<div class='row'><div class='col-md-12'><div class='form-group'><label>Observaciones generales</label> <textarea data-toggle='tooltip' class='form-control input-sm' title='Indique las observaciones presentadas en la solicitud' id='request_observation'></textarea></div></div></div>",size:"medium",buttons:{cancel:{label:'<i class="fa fa-times"></i> Cancelar'},confirm:{label:'<i class="fa fa-check"></i> Confirmar'}},callback:function(e){e&&(t.record.observation=document.getElementById("request_observation").value,t.createRecord("asset/requests/deliveries"))}})}}},o=s("KHd+"),i=Object(o.a)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-md-12"},[s("hr"),e._v(" "),s("v-client-table",{attrs:{columns:e.columns,data:e.records,options:e.table_options},scopedSlots:e._u([{key:"observation",fn:function(t){return s("div",{staticClass:"text-center"},[s("span",[e._v("\n\t\t\t\t"+e._s(t.row.observation?t.row.observation:"No definido")+"\n\t\t\t")])])}},{key:"id",fn:function(t){return s("div",{staticClass:"text-center"},[s("button",{staticClass:"btn btn-success btn-xs btn-icon btn-action",attrs:{title:"Aceptar Solicitud","data-toggle":"tooltip",type:"button"},on:{click:function(s){return e.acceptRequest(t.index)}}},[s("i",{staticClass:"fa fa-check"})]),e._v(" "),s("button",{staticClass:"btn btn-danger btn-xs btn-icon btn-action",attrs:{title:"Rechazar Solicitud","data-toggle":"tooltip",type:"button"},on:{click:function(s){return e.rejectedRequest(t.index)}}},[s("i",{staticClass:"fa fa-ban"})]),e._v(" "),s("button",{staticClass:"btn btn-danger btn-xs btn-icon btn-action",attrs:{title:"Eliminar registro","data-toggle":"tooltip",type:"button"},on:{click:function(s){return e.deleteRecord(t.index,"requests/deliveries")}}},[s("i",{staticClass:"fa fa-trash-o"})])])}}])})],1)}),[],!1,null,null,null);t.default=i.exports}}]);