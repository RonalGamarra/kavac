(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{ASLQ:function(e,t,s){"use strict";s.r(t);var a={data:function(){return{record:{id:"",asset_type_id:"",asset_category_id:"",asset_subcategory_id:"",name:"",code:""},type:{id:"",name:""},category:{id:"",code:"",name:""},subcategory:{id:"",code:"",name:""},errors:[],records:[],asset_types:[],asset_categories:[],asset_subcategories:[],columns:["asset_subcategory.asset_category.asset_type.name","asset_subcategory.asset_category.name","asset_subcategory.name","name","code","id"]}},created:function(){this.table_options.headings={"asset_subcategory.asset_category.asset_type.name":"Tipo de Bien","asset_subcategory.asset_category.name":"Categoria General","asset_subcategory.name":"Subcategoria",name:"Categoria Especifica",code:"Código",id:"Acción"},this.table_options.sortable=["asset_subcategory.asset_category.asset_type.name","asset_subcategory.asset_category.name","asset_subcategory.name","name","code"],this.table_options.filterable=["asset_subcategory.asset_category.asset_type.name","asset_subcategory.asset_category.name","asset_subcategory.name","name","code"]},mounted:function(){this.getAssetTypes()},methods:{reset:function(){this.errors=[],this.record={id:"",asset_type_id:"",asset_category_id:"",asset_subcategory_id:"",name:"",code:""},this.type={id:"",name:"",code:""},this.category={id:"",name:"",code:""},this.subcategory={id:"",name:"",code:""}},getAssetTypes:function(){var e=this;axios.get("/asset/get-types").then((function(t){$.each(t.data,(function(){1===this.id?(e.asset_types.push({id:"-1",text:"Agregar Nuevo Tipo de Bienes"}),e.asset_types.push({id:this.id,text:this.text})):e.asset_types.push({id:this.id,text:this.text})}))}))},getAssetCategories:function(){var e=this,t=!0;this.record.asset_type_id>0?axios.get("/asset/get-categories/"+this.record.asset_type_id).then((function(s){e.asset_categories=[],$.each(s.data,(function(){!0===t?(t=!1,e.asset_categories.push({id:this.id,text:this.text}),e.asset_categories.push({id:"-1",text:"Agregar Nueva Categoria General de Bienes"})):e.asset_categories.push({id:this.id,text:this.text})}))})):-1==this.record.asset_type_id&&(e.asset_categories=[{id:"",text:"Seleccione..."},{id:"-1",text:"Agregar Nueva Categoria General de Bienes"}])},getAssetSubcategories:function(){var e=this,t=!0;this.record.asset_category_id>0?axios.get("/asset/get-subcategories/"+this.record.asset_category_id).then((function(s){e.asset_subcategories=[],$.each(s.data,(function(){!0===t?(t=!1,e.asset_subcategories.push({id:this.id,text:this.text}),e.asset_subcategories.push({id:"-1",text:"Agregar Nueva Subcategoria de Bienes"})):e.asset_subcategories.push({id:this.id,text:this.text})}))})):-1==this.record.asset_category_id&&(e.asset_subcategories=[{id:"",text:"Seleccione..."},{id:"-1",text:"Agregar Nueva subcategoria de Bienes"}])},checkType:function(){var e=this.record.asset_type_id;$("#type_id").attr("disabled",e>0),e>0?$("#type_id").closest(".form-group").removeClass("is-required"):$("#type_id").closest(".form-group").addClass("is-required"),this.getAssetCategories()},checkCategory:function(){var e=this.record.asset_category_id;$("#category_name_id").attr("disabled",e>0),$("#category_code_id").attr("disabled",e>0),e>0?($("#category_name_id").closest(".form-group").removeClass("is-required"),$("#category_code_id").closest(".form-group").removeClass("is-required")):($("#category_name_id").closest(".form-group").addClass("is-required"),$("#category_code_id").closest(".form-group").addClass("is-required")),this.getAssetSubcategories()},checkSubcategory:function(){var e=this.record.asset_subcategory_id;$("#subcategory_name_id").attr("disabled",e>0),$("#subcategory_name_id").attr("required",e>0),$("#subcategory_code_id").attr("disabled",e>0),$("#subcategory_code_id").attr("required",e>0),e>0?($("#subcategory_name_id").closest(".form-group").removeClass("is-required"),$("#subcategory_code_id").closest(".form-group").removeClass("is-required")):($("#subcategory_name_id").closest(".form-group").addClass("is-required"),$("#subcategory_code_id").closest(".form-group").addClass("is-required"))},createClasification:function(e){var t=this;if(this.record.id)this.updateRecord(e);else{var s={id:this.record.id,asset_type_id:this.record.asset_type_id,asset_category_id:this.record.asset_category_id,asset_subcategory_id:this.record.asset_subcategory_id,name:this.record.name,code:this.record.code,type:{name:this.type.name},category:{code:this.category.code,name:this.category.name},subcategory:{code:this.subcategory.code,name:this.subcategory.name}};axios.post("/"+e,s).then((function(s){t.reset(),t.readRecords(e),t.showMessage("store")})).catch((function(e){if(t.errors=[],void 0!==e.response)for(var s in e.response.data.errors)e.response.data.errors[s]&&t.errors.push(e.response.data.errors[s][0])}))}},initUpdate:function(e,t){this.errors=[];var s=this.records[e-1];this.record={id:s.id,asset_type_id:s.asset_subcategory.asset_category.asset_type_id,asset_category_id:s.asset_subcategory.asset_category_id,asset_subcategory_id:s.asset_subcategory_id,code:s.code,name:s.name},t.preventDefault()},updateRecord:function(e){var t=this,s={};for(var a in this.record)s[a]=this.record[a];axios.patch("/"+e+"/"+this.record.id,s).then((function(s){t.readRecords(e),t.reset(),t.showMessage("update")})).catch((function(e){if(t.errors=[],void 0!==e.response)for(var s in e.response.data.errors)e.response.data.errors[s]&&t.errors.push(e.response.data.errors[s][0])}))}}},o=s("KHd+"),i=Object(o.a)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-xs-2 text-center"},[s("a",{staticClass:"btn-simplex btn-simplex-md btn-simplex-primary",attrs:{href:"",title:"Registros de Clasificador de Bienes","data-toggle":"tooltip"},on:{click:function(t){return e.addRecord("add_clasification","clasifications",t)}}},[s("i",{staticClass:"icofont icofont-read-book ico-3x"}),e._v(" "),e._m(0)]),e._v(" "),s("div",{staticClass:"modal fade text-left",attrs:{tabindex:"-1",role:"dialog",id:"add_clasification"}},[s("div",{staticClass:"modal-dialog vue-crud",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[e._m(1),e._v(" "),s("div",{staticClass:"modal-body"},[e.errors.length>0?s("div",{staticClass:"alert alert-danger"},[s("div",{staticClass:"container"},[e._m(2),e._v(" "),s("strong",[e._v("Cuidado!")]),e._v(" Debe verificar los siguientes errores antes de continuar:\n                                "),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"},on:{click:function(t){t.preventDefault(),e.errors=[]}}},[e._m(3)]),e._v(" "),s("ul",e._l(e.errors,(function(t){return s("li",[e._v(e._s(t))])})),0)])]):e._e(),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"form-group"},[s("label",[e._v("Tipo de Bien:")]),e._v(" "),s("select2",{attrs:{options:e.asset_types},on:{input:function(t){return e.checkType()}},model:{value:e.record.asset_type_id,callback:function(t){e.$set(e.record,"asset_type_id",t)},expression:"record.asset_type_id"}}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.record.id,expression:"record.id"}],attrs:{type:"hidden"},domProps:{value:e.record.id},on:{input:function(t){t.target.composing||e.$set(e.record,"id",t.target.value)}}})],1)]),e._v(" "),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"form-group"},[s("label",[e._v("Tipo de Bienes:")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.type.name,expression:"type.name"}],staticClass:"form-control input-sm",attrs:{type:"text",placeholder:"Nuevo Tipo de Bienes","data-toggle":"tooltip",id:"type_id",title:"Indique el nuevo Tipo de Bienes (requerido)"},domProps:{value:e.type.name},on:{input:function(t){t.target.composing||e.$set(e.type,"name",t.target.value)}}})])]),e._v(" "),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group"},[s("label",[e._v("Categoría General:")]),e._v(" "),s("select2",{attrs:{options:e.asset_categories},on:{input:e.checkCategory},model:{value:e.record.category_id,callback:function(t){e.$set(e.record,"category_id",t)},expression:"record.category_id"}})],1)]),e._v(" "),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group"},[s("label",[e._v("Código de la Categoría:")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.category.code,expression:"category.code"}],staticClass:"form-control input-sm",attrs:{type:"text",placeholder:"Código de la Categoría","data-toggle":"tooltip",id:"category_code_id",title:"Indique el código de la nueva Categoría (requerido)"},domProps:{value:e.category.code},on:{input:function(t){t.target.composing||e.$set(e.category,"code",t.target.value)}}})])]),e._v(" "),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group"},[s("label",[e._v("Categoría General:")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.category.name,expression:"category.name"}],staticClass:"form-control input-sm",attrs:{type:"text",placeholder:"Nueva Categoría General","data-toggle":"tooltip",id:"category_name_id",title:"Indique la nueva Categoría General (requerido)"},domProps:{value:e.category.name},on:{input:function(t){t.target.composing||e.$set(e.category,"name",t.target.value)}}})])]),e._v(" "),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group"},[s("label",[e._v("Subcategoría:")]),e._v(" "),s("select2",{attrs:{options:e.asset_subcategories},on:{input:e.checkSubcategory},model:{value:e.record.asset_subcategory_id,callback:function(t){e.$set(e.record,"asset_subcategory_id",t)},expression:"record.asset_subcategory_id"}})],1)]),e._v(" "),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group"},[s("label",[e._v("Código de la SubCategoría:")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.subcategory.code,expression:"subcategory.code"}],staticClass:"form-control input-sm",attrs:{type:"text",placeholder:"Código de la SubCategoría","data-toggle":"tooltip",id:"subcategory_code_id",title:"Indique el código de la nueva SubCategoría (requerido)"},domProps:{value:e.subcategory.code},on:{input:function(t){t.target.composing||e.$set(e.subcategory,"code",t.target.value)}}})])]),e._v(" "),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group"},[s("label",[e._v("Subcategoría:")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.subcategory.name,expression:"subcategory.name"}],staticClass:"form-control input-sm",attrs:{type:"text",placeholder:"Nueva SubCategoría","data-toggle":"tooltip",id:"subcategory_name_id",title:"Indique la nueva Subcategoría(requerido)"},domProps:{value:e.subcategory.name},on:{input:function(t){t.target.composing||e.$set(e.subcategory,"name",t.target.value)}}})])]),e._v(" "),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"form-group is-required"},[s("label",[e._v("Código de la Categoría Específica:")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.record.code,expression:"record.code"}],staticClass:"form-control input-sm",attrs:{type:"text",placeholder:"Código de la Categoría Específica","data-toggle":"tooltip",title:"Indique el código de la nueva Categoría Específica (requerido)"},domProps:{value:e.record.code},on:{input:function(t){t.target.composing||e.$set(e.record,"code",t.target.value)}}})])]),e._v(" "),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"form-group is-required"},[s("label",[e._v("Categoría Especifica:")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.record.name,expression:"record.name"}],staticClass:"form-control input-sm",attrs:{type:"text",placeholder:"Nueva Categoría Específica","data-toggle":"tooltip",title:"Indique la nueva Categoría Específica (requerido)"},domProps:{value:e.record.name},on:{input:function(t){t.target.composing||e.$set(e.record,"name",t.target.value)}}})])])])]),e._v(" "),s("div",{staticClass:"modal-body modal-table"},[s("hr"),e._v(" "),s("v-client-table",{attrs:{columns:e.columns,data:e.records,options:e.table_options},scopedSlots:e._u([{key:"id",fn:function(t){return s("div",{staticClass:"text-center"},[s("button",{staticClass:"btn btn-warning btn-xs btn-icon btn-action",attrs:{title:"Modificar registro","data-toggle":"tooltip",type:"button"},on:{click:function(s){return e.initUpdate(t.index,s)}}},[s("i",{staticClass:"fa fa-edit"})]),e._v(" "),s("button",{staticClass:"btn btn-danger btn-xs btn-icon btn-action",attrs:{title:"Eliminar registro","data-toggle":"tooltip",type:"button"},on:{click:function(s){return e.deleteRecord(t.index,"clasifications")}}},[s("i",{staticClass:"fa fa-trash-o"})])])}}])})],1),e._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-default btn-sm btn-round btn-modal-close",attrs:{type:"button","data-dismiss":"modal"}},[e._v("\n\t                \t\tCerrar\n\t                \t")]),e._v(" "),s("button",{staticClass:"btn btn-primary btn-sm btn-round btn-modal-save",attrs:{type:"button"},on:{click:function(t){return e.createClasification("asset/clasifications")}}},[e._v("\n\t                \t\tGuardar\n\t\t                ")])])])])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("span",[this._v("Clasificador"),t("br"),this._v("Bienes")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"modal-header"},[t("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[t("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])]),this._v(" "),t("h6",[t("i",{staticClass:"icofont icofont-read-book ico-2x"}),this._v("\n\t\t\t\t\t\t\tClasificación de Bienes\n\t\t\t\t\t\t")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"alert-icon"},[t("i",{staticClass:"now-ui-icons objects_support-17"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("span",{attrs:{"aria-hidden":"true"}},[t("i",{staticClass:"now-ui-icons ui-1_simple-remove"})])}],!1,null,null,null);t.default=i.exports},"KHd+":function(e,t,s){"use strict";function a(e,t,s,a,o,i,r,c){var d,n="function"==typeof e?e.options:e;if(t&&(n.render=t,n.staticRenderFns=s,n._compiled=!0),a&&(n.functional=!0),i&&(n._scopeId="data-v-"+i),r?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},n._ssrRegister=d):o&&(d=c?function(){o.call(this,(n.functional?this.parent:this).$root.$options.shadowRoot)}:o),d)if(n.functional){n._injectStyles=d;var l=n.render;n.render=function(e,t){return d.call(t),l(e,t)}}else{var u=n.beforeCreate;n.beforeCreate=u?[].concat(u,d):[d]}return{exports:e,options:n}}s.d(t,"a",(function(){return a}))}}]);