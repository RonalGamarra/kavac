(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{Co5F:function(t,a,s){"use strict";s.r(a);var e={data:function(){return{record:{id:"",payroll_staff_id:""},errors:[],records:[],vacation_period_years:[],payroll_staffs:[],payroll_staff:{id:""}}},props:{id:{type:Number,required:!1,default:""}},created:function(){this.reset()},mounted:function(){this.getPayrollStaffs(),this.payroll_id||(this.record.created_at=this.format_date(new Date,"YYYY-MM-DD"))},methods:{reset:function(){this.record={id:"",payroll_staff_id:""},this.record.created_at=this.format_date(new Date,"YYYY-MM-DD")},getPayrollStaffInfo:function(){var t=this;t.record.payroll_staff_id>0?axios.get("/payroll/staffs/"+t.record.payroll_staff_id).then(function(a){t.payroll_staff=a.data.record,document.getElementById("payroll_staff_first_name").innerText=t.payroll_staff.first_name?t.payroll_staff.first_name:"No definido",document.getElementById("payroll_staff_last_name").innerText=t.payroll_staff.last_name?t.payroll_staff.last_name:"No definido",document.getElementById("payroll_staff_start_date").innerText=t.payroll_staff.payroll_employment_information&&t.payroll_staff.payroll_employment_information.start_date?t.payroll_staff.payroll_employment_information.start_date:"No definido",document.getElementById("payroll_staff_department").innerText=t.payroll_staff.payroll_employment_information&&t.payroll_staff.payroll_employment_information.department&&t.payroll_staff.payroll_employment_information.department.name?t.payroll_staff.payroll_employment_information.department.name:"No definido",document.getElementById("payroll_staff_position").innerText=t.payroll_staff.payroll_employment_information&&t.payroll_staff.payroll_employment_information.payroll_position&&t.payroll_staff.payroll_employment_information.payroll_position.name?t.payroll_staff.payroll_employment_information.payroll_position.name:"No definido"}):t.payroll_staff={id:""}}}},r=s("KHd+"),o=Object(r.a)(e,function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("section",{attrs:{id:"PayrollVacationRequestFormComponent"}},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[s("h6",{staticClass:"card-title"},[t._v("Solicitud de vacaciones")]),t._v(" "),s("div",{staticClass:"card-btns"},[s("a",{staticClass:"btn btn-sm btn-primary btn-custom",attrs:{href:"#",title:"Ir atrás","data-toggle":"tooltip"},on:{click:function(a){return t.redirect_back(t.route_list)}}},[s("i",{staticClass:"fa fa-reply"})]),t._v(" "),t._m(0)])]),t._v(" "),s("div",{staticClass:"card-body"},[t.errors.length>0?s("div",{staticClass:"alert alert-danger"},[s("div",{staticClass:"container"},[t._m(1),t._v(" "),s("strong",[t._v("Cuidado!")]),t._v(" Debe verificar los siguientes errores antes de continuar:\n                    "),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"},on:{click:function(a){a.preventDefault(),t.errors=[]}}},[t._m(2)]),t._v(" "),s("ul",t._l(t.errors,function(a){return s("li",[t._v(t._s(a))])}),0)])]):t._e(),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group is-required"},[s("label",[t._v("Fecha de la solicitud:")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.record.created_at,expression:"record.created_at"}],staticClass:"form-control input-sm",attrs:{type:"date",readonly:"","data-toggle":"tooltip",title:"Fecha de generación de la solicitud"},domProps:{value:t.record.created_at},on:{input:function(a){a.target.composing||t.$set(t.record,"created_at",a.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.record.id,expression:"record.id"}],attrs:{type:"hidden"},domProps:{value:t.record.id},on:{input:function(a){a.target.composing||t.$set(t.record,"id",a.target.value)}}})])]),t._v(" "),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group is-required"},[s("label",[t._v("Trabajador:")]),t._v(" "),s("select2",{attrs:{options:t.payroll_staffs},on:{input:function(a){return t.getPayrollStaffInfo()}},model:{value:t.record.payroll_staff_id,callback:function(a){t.$set(t.record,"payroll_staff_id",a)},expression:"record.payroll_staff_id"}})],1)])]),t._v(" "),t.payroll_staff.id>0?s("section",{staticClass:"row"},[s("hr"),t._v(" "),t._m(3)]):t._e(),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group is-required"},[s("label",[t._v("Días solicitados:")]),t._v(" "),s("input",{directives:[{name:"input-mask",rawName:"v-input-mask"},{name:"model",rawName:"v-model",value:t.record.days,expression:"record.days"}],staticClass:"form-control input-sm",attrs:{type:"text","data-toggle":"tooltip",title:"Indique la cantidad de días solicitados","data-inputmask":"\n                                    'alias': 'numeric',\n                                    'allowMinus': 'false'"},domProps:{value:t.record.days},on:{input:function(a){a.target.composing||t.$set(t.record,"days",a.target.value)}}})])]),t._v(" "),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group is-required"},[s("label",[t._v("Año del período vacacional:")]),t._v(" "),s("select2",{attrs:{options:t.vacation_period_years}})],1)])])]),t._v(" "),s("div",{staticClass:"card-footer text-right"},[s("button",{staticClass:"btn btn-default btn-icon btn-round",attrs:{type:"button","data-toggle":"tooltip",title:"Borrar datos del formulario"},on:{click:function(a){return t.reset()}}},[s("i",{staticClass:"fa fa-eraser"})]),t._v(" "),s("button",{staticClass:"btn btn-warning btn-icon btn-round",attrs:{type:"button","data-toggle":"tooltip",title:"Cancelar y regresar"},on:{click:function(a){return t.redirect_back(t.route_list)}}},[s("i",{staticClass:"fa fa-ban"})]),t._v(" "),s("button",{staticClass:"btn btn-success btn-icon btn-round",attrs:{type:"button"},on:{click:function(a){return t.createRecord("payroll/vacation-requests")}}},[s("i",{staticClass:"fa fa-save"})])])])])},[function(){var t=this.$createElement,a=this._self._c||t;return a("a",{staticClass:"card-minimize btn btn-card-action btn-round",attrs:{href:"#",title:"Minimizar","data-toggle":"tooltip"}},[a("i",{staticClass:"now-ui-icons arrows-1_minimal-up"})])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"alert-icon"},[a("i",{staticClass:"now-ui-icons objects_support-17"})])},function(){var t=this.$createElement,a=this._self._c||t;return a("span",{attrs:{"aria-hidden":"true"}},[a("i",{staticClass:"now-ui-icons ui-1_simple-remove"})])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"col-md-12"},[s("h6",{staticClass:"card-title"},[t._v(" Información general del trabajador ")]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group"},[s("strong",[t._v(" Nombres: ")]),t._v(" "),s("div",{staticClass:"row",staticStyle:{margin:"1px 0"}},[s("span",{staticClass:"col-md-12",attrs:{id:"payroll_staff_first_name"}})])])]),t._v(" "),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group"},[s("strong",[t._v("Apellidos:")]),t._v(" "),s("div",{staticClass:"row",staticStyle:{margin:"1px 0"}},[s("span",{staticClass:"col-md-12",attrs:{id:"payroll_staff_last_name"}})])])]),t._v(" "),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group"},[s("strong",[t._v("Fecha de ingreso:")]),t._v(" "),s("div",{staticClass:"row",staticStyle:{margin:"1px 0"}},[s("span",{staticClass:"col-md-12",attrs:{id:"payroll_staff_start_date"}})])])]),t._v(" "),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group"},[s("strong",[t._v("Cargo:")]),t._v(" "),s("div",{staticClass:"row",staticStyle:{margin:"1px 0"}},[s("span",{staticClass:"col-md-12",attrs:{id:"payroll_staff_position"}})])])]),t._v(" "),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group"},[s("strong",[t._v("Dependencia:")]),t._v(" "),s("div",{staticClass:"row",staticStyle:{margin:"1px 0"}},[s("span",{staticClass:"col-md-12",attrs:{id:"payroll_staff_department"}})])])])])])}],!1,null,null,null);a.default=o.exports},"KHd+":function(t,a,s){"use strict";function e(t,a,s,e,r,o,i,l){var n,d="function"==typeof t?t.options:t;if(a&&(d.render=a,d.staticRenderFns=s,d._compiled=!0),e&&(d.functional=!0),o&&(d._scopeId="data-v-"+o),i?(n=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},d._ssrRegister=n):r&&(n=l?function(){r.call(this,this.$root.$options.shadowRoot)}:r),n)if(d.functional){d._injectStyles=n;var c=d.render;d.render=function(t,a){return n.call(a),c(t,a)}}else{var _=d.beforeCreate;d.beforeCreate=_?[].concat(_,n):[n]}return{exports:t,options:d}}s.d(a,"a",function(){return e})}}]);