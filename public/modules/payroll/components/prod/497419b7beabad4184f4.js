(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"KHd+":function(a,t,e){"use strict";function r(a,t,e,r,l,s,o,i){var n,c="function"==typeof a?a.options:a;if(t&&(c.render=t,c.staticRenderFns=e,c._compiled=!0),r&&(c.functional=!0),s&&(c._scopeId="data-v-"+s),o?(n=function(a){(a=a||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(a=__VUE_SSR_CONTEXT__),l&&l.call(this,a),a&&a._registeredComponents&&a._registeredComponents.add(o)},c._ssrRegister=n):l&&(n=i?function(){l.call(this,this.$root.$options.shadowRoot)}:l),n)if(c.functional){c._injectStyles=n;var _=c.render;c.render=function(a,t){return n.call(t),_(a,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,n):[n]}return{exports:a,options:c}}e.d(t,"a",function(){return r})},fI97:function(a,t,e){"use strict";e.r(t);var r={data:function(){return{record:{id:"",value:"",increase_of_date:"",increase_of_type:"",payroll_salary_tabulator_id:""},payroll_salary_tabulator:{},payroll_salary_tabulators:[],increase_of_types:[{id:"",text:"Seleccione..."},{id:"percentage",text:"Porcentual"},{id:"absolute_value",text:"Valor absoluto"},{id:"different",text:"Diferente"}],errors:[],records:[],panel:"Form"}},created:function(){this.reset(),this.getPayrollSalaryTabulators()},mounted:function(){this.record.created_at=this.format_date(new Date,"YYYY-MM-DD")},methods:{reset:function(){this.record={id:"",value:"",increase_of_date:"",increase_of_type:"",payroll_salary_tabulator_id:""},this.record.created_at=this.format_date(new Date,"YYYY-MM-DD")},showRecord:function(){var a=this,t="";a.record.payroll_salary_tabulator_id>0&&void 0!==a.route_show&&a.route_show&&(t=a.route_show.indexOf("{id}")>=0?a.route_show.replace("{id}",a.record.payroll_salary_tabulator_id):a.route_show+"/"+a.record.payroll_salary_tabulator_id,axios.get(t).then(function(t){void 0!==t.data.record&&(a.payroll_salary_tabulator=t.data.record)}).catch(function(t){void 0!==t.response&&(403==t.response.status?a.showMessage("custom","Acceso Denegado","danger","screen-error",t.response.data.message):a.logs("resources/js/all.js",343,t,"showRecord"))}))},isDisableNext:function(){var a=this;return""==a.record.increase_of_date||""==a.record.increase_of_type||""==a.record.payroll_salary_tabulator_id||"different"!=a.record.increase_of_type&&""==a.record.value},changePanel:function(a){1==("Show"!=a||!this.isDisableNext())&&(this.panel=a)},loadSalaryScales:function(){this.changePanel("Show")},getScaleValue:function(a,t){var e=this,r=0;return $.each(e.payroll_salary_tabulator.payroll_salary_tabulator_scales,function(l,s){s.payroll_vertical_scale_id==a&&s.payroll_horizontal_scale_id==t&&(r="percentage"==e.record.increase_of_type?JSON.parse(s.value)*JSON.parse(e.record.value)/100:"absolute_value"==e.record.increase_of_type?JSON.parse(s.value)+JSON.parse(e.record.value):JSON.parse(s.value))}),r}}},l=e("KHd+"),s=Object(l.a)(r,function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("section",{attrs:{id:"PayrollSalaryAdjustmentsFormComponent"}},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[e("h6",{staticClass:"card-title"},[a._v("Ajustes en tablas salariales")]),a._v(" "),e("div",{staticClass:"card-btns"},[e("a",{staticClass:"btn btn-sm btn-primary btn-custom",attrs:{href:"#",title:"Ir atrás","data-toggle":"tooltip"},on:{click:function(t){return a.redirect_back(a.route_list)}}},[e("i",{staticClass:"fa fa-reply"})]),a._v(" "),a._m(0)])]),a._v(" "),e("div",{staticClass:"card-body"},[a.errors.length>0?e("div",{staticClass:"alert alert-danger"},[e("div",{staticClass:"container"},[a._m(1),a._v(" "),e("strong",[a._v("Cuidado!")]),a._v(" Debe verificar los siguientes errores antes de continuar:\n                    "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"},on:{click:function(t){t.preventDefault(),a.errors=[]}}},[a._m(2)]),a._v(" "),e("ul",a._l(a.errors,function(t){return e("li",[a._v(a._s(t))])}),0)])]):a._e(),a._v(" "),e("section",{staticClass:"form-horizontal"},["Form"==a.panel?e("div",{attrs:{id:"salaryAdjustmentsForm"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group is-required"},[e("label",[a._v("Fecha de generación:")]),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.record.created_at,expression:"record.created_at"}],staticClass:"form-control input-sm",attrs:{type:"date",readonly:"","data-toggle":"tooltip",title:"Fecha de generación del ajuste salarial"},domProps:{value:a.record.created_at},on:{input:function(t){t.target.composing||a.$set(a.record,"created_at",t.target.value)}}})])]),a._v(" "),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group is-required"},[e("label",[a._v("Fecha del aumento:")]),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.record.increase_of_date,expression:"record.increase_of_date"}],staticClass:"form-control input-sm",attrs:{type:"date","data-toggle":"tooltip",title:"Fecha del aumento salarial"},domProps:{value:a.record.increase_of_date},on:{input:function(t){t.target.composing||a.$set(a.record,"increase_of_date",t.target.value)}}})])]),a._v(" "),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group is-required"},[e("label",[a._v("Tabulador salarial:")]),a._v(" "),e("select2",{attrs:{options:a.payroll_salary_tabulators},on:{input:function(t){return a.showRecord()}},model:{value:a.record.payroll_salary_tabulator_id,callback:function(t){a.$set(a.record,"payroll_salary_tabulator_id",t)},expression:"record.payroll_salary_tabulator_id"}})],1)]),a._v(" "),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group is-required"},[e("label",[a._v("Tipo de aumento:")]),a._v(" "),e("select2",{attrs:{options:a.increase_of_types},model:{value:a.record.increase_of_type,callback:function(t){a.$set(a.record,"increase_of_type",t)},expression:"record.increase_of_type"}})],1)]),a._v(" "),"percentage"==a.record.increase_of_type||"absolute_value"==a.record.increase_of_type?e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group is-required"},[e("label",[a._v("Valor:")]),a._v(" "),e("input",{directives:[{name:"input-mask",rawName:"v-input-mask"},{name:"model",rawName:"v-model",value:a.record.value,expression:"record.value"}],staticClass:"form-control input-sm",attrs:{type:"text","data-toggle":"tooltip",title:"Indique el valor","data-inputmask":"\n                                            'alias': 'numeric',\n                                            'allowMinus': 'false',\n                                            'digits': '2'"},domProps:{value:a.record.value},on:{input:function(t){t.target.composing||a.$set(a.record,"value",t.target.value)}}})])]):a._e()])]):e("div",{attrs:{id:"salaryAdjustmentsShow"}},[a.payroll_salary_tabulator&&(a.payroll_salary_tabulator.payroll_horizontal_salary_scale_id>0&&a.payroll_salary_tabulator.payroll_horizontal_salary_scale.payroll_scales&&a.payroll_salary_tabulator.payroll_horizontal_salary_scale.payroll_scales.length>0||a.payroll_salary_tabulator.payroll_vertical_salary_scale_id>0&&a.payroll_salary_tabulator.payroll_vertical_salary_scale.payroll_scales&&a.payroll_salary_tabulator.payroll_vertical_salary_scale.payroll_scales.length>0)?e("div",{staticClass:"modal-table"},[a.payroll_salary_tabulator.payroll_horizontal_salary_scale_id>0&&null==a.payroll_salary_tabulator.payroll_vertical_salary_scale_id?e("table",{staticClass:"table table-hover table-striped table-responsive"},[e("thead",[a.payroll_salary_tabulator.payroll_horizontal_salary_scale.payroll_scales?e("th",{attrs:{colspan:1+a.payroll_salary_tabulator.payroll_horizontal_salary_scale.payroll_scales.length}},[e("strong",[a._v(a._s(a.payroll_salary_tabulator.name))])]):a._e()]),a._v(" "),e("tbody",[e("tr",{staticClass:"text-center"},[e("th",[a._v("Nombre:")]),a._v(" "),a._l(a.payroll_salary_tabulator.payroll_horizontal_salary_scale.payroll_scales,function(t,r){return e("th",[a._v("\n                                        "+a._s(t.name)+"\n                                    ")])})],2),a._v(" "),null==a.payroll_salary_tabulator.payroll_vertical_salary_scale_id?e("tr",{staticClass:"text-center"},[e("th",[a._v("Incidencia:")]),a._v(" "),a._l(a.payroll_salary_tabulator.payroll_horizontal_salary_scale.payroll_scales,function(t,r){return e("td",{staticClass:"td-with-border"},[e("div",[e("input",{staticClass:"form-control input-sm",attrs:{type:"text",id:"salary_scale_h_"+t.id,"data-toggle":"tooltip",disabled:"different"!=a.record.increase_of_type,onfocus:"this.select()"},domProps:{value:a.getScaleValue(null,t.id)}})])])})],2):a._l(a.payroll_salary_tabulator.payroll_vertical_salary_scale.payroll_scales,function(t,r){return e("tr",{staticClass:"text-center"},[e("th",[a._v("\n                                        "+a._s(t.name)+"\n                                    ")]),a._v(" "),a._l(a.payroll_salary_tabulator.payroll_horizontal_salary_scale.payroll_scales,function(r,l){return e("td",{staticClass:"td-with-border"},[e("div",[e("input",{staticClass:"form-control input-sm",attrs:{type:"text",id:"salary_scale_"+t.id+"_"+r.id,"data-toggle":"tooltip",disabled:"different"!=a.record.increase_of_type,onfocus:"this.select()"},domProps:{value:a.getScaleValue(t.id,r.id)}})])])})],2)})],2)]):null==a.payroll_salary_tabulator.payroll_horizontal_salary_scale_id&&a.payroll_salary_tabulator.payroll_vertical_salary_scale_id>0?e("table",{staticClass:"table table-hover table-striped table-responsive table-assignment"},[e("thead",[e("th",{attrs:{colspan:"2"}},[e("strong",[a._v(a._s(a.payroll_salary_tabulator.name))])])]),a._v(" "),e("tbody",[a._m(3),a._v(" "),a._l(a.payroll_salary_tabulator.payroll_vertical_salary_scale.payroll_scales,function(t,r){return e("tr",{staticClass:"text-center"},[e("th",[a._v("\n                                        "+a._s(t.name)+"\n                                    ")]),a._v(" "),e("td",[e("div",[e("input",{staticClass:"form-control input-sm",attrs:{type:"text",id:"salary_scale_v_"+t.id,"data-toggle":"tooltip",disabled:"different"!=a.record.increase_of_type,onfocus:"this.select()"},domProps:{value:a.getScaleValue(t.id,null)}})])])])})],2)]):a._e()]):a._e()]),a._v(" "),e("div",{staticStyle:{"padding-bottom":"20px"}},["Form"==a.panel?e("div",{staticClass:"pull-right"},[e("button",{staticClass:"btn btn-primary btn-wd btn-sm",attrs:{type:"button",disabled:a.isDisableNext(),"data-toggle":"tooltip",title:""},on:{click:function(t){return a.loadSalaryScales()}}},[a._v("\n                            Siguiente\n                        ")])]):e("div",{staticClass:"pull-left"},[e("button",{staticClass:"btn btn-default btn-wd btn-sm",attrs:{type:"button","data-toggle":"tooltip",title:""},on:{click:function(t){return a.changePanel("Form")}}},[a._v("\n                            Regresar\n                        ")])])])])]),a._v(" "),e("div",{staticClass:"card-footer text-right"},[e("button",{staticClass:"btn btn-default btn-icon btn-round",attrs:{type:"button","data-toggle":"tooltip",title:"Borrar datos del formulario"},on:{click:function(t){return a.reset()}}},[e("i",{staticClass:"fa fa-eraser"})]),a._v(" "),e("button",{staticClass:"btn btn-warning btn-icon btn-round",attrs:{type:"button","data-toggle":"tooltip",title:"Cancelar y regresar"},on:{click:function(t){return a.redirect_back(a.route_list)}}},[e("i",{staticClass:"fa fa-ban"})]),a._v(" "),e("button",{staticClass:"btn btn-success btn-icon btn-round",attrs:{type:"button"},on:{click:function(t){return a.createRecord(a.route_create)}}},[e("i",{staticClass:"fa fa-save"})])])])])},[function(){var a=this.$createElement,t=this._self._c||a;return t("a",{staticClass:"card-minimize btn btn-card-action btn-round",attrs:{href:"#",title:"Minimizar","data-toggle":"tooltip"}},[t("i",{staticClass:"now-ui-icons arrows-1_minimal-up"})])},function(){var a=this.$createElement,t=this._self._c||a;return t("div",{staticClass:"alert-icon"},[t("i",{staticClass:"now-ui-icons objects_support-17"})])},function(){var a=this.$createElement,t=this._self._c||a;return t("span",{attrs:{"aria-hidden":"true"}},[t("i",{staticClass:"now-ui-icons ui-1_simple-remove"})])},function(){var a=this.$createElement,t=this._self._c||a;return t("tr",{staticClass:"text-center"},[t("th",[this._v("Nombre")]),this._v(" "),t("th",[this._v("Incidencia")])])}],!1,null,null,null);t.default=s.exports}}]);