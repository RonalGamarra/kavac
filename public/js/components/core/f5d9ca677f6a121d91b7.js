(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"9qIu":function(t,e,i){(t.exports=i("I1BE")(!1)).push([t.i,"\n.default-image-style {\n    cursor:pointer;\n}\n.hide-image-file {\n    display:none;\n}\n.btn-img-action {\n    padding: 0.1rem 0.3rem !important;\n}\n",""])},"KHd+":function(t,e,i){"use strict";function n(t,e,i,n,a,o,r,s){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=i,l._compiled=!0),n&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),r?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},l._ssrRegister=c):a&&(c=s?function(){a.call(this,this.$root.$options.shadowRoot)}:a),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return{exports:t,options:l}}i.d(e,"a",(function(){return n}))},TfKK:function(t,e,i){"use strict";var n=i("nKPL");i.n(n).a},"fY/u":function(t,e,i){"use strict";i.r(e);function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a={data:function(){return{id:"",url:""}},props:{imgWidth:{type:String,required:!1,default:"64px"},imgHeight:{type:String,required:!1,default:"64px"},imgDefault:{type:String,required:!1,default:"/images/no-image2.png"},imgId:{type:Number,required:!1,default:""}},watch:{imgDefault:function(t,e){this.url=this.imgDefault,this.id=this.imgId}},methods:{selectImage:function(t){$("#".concat(t)).click()},uploadImage:function(t,e){var i=this,n=(e=void 0!==e?e:"",new FormData),a=document.querySelector("#".concat(t));n.append("image",a.files[0]),e?axios.put("".concat(window.app_url,"/upload-image/").concat(e)).then((function(t){})).catch((function(t){i.logs("ImageManagementComponent",127,t,"uploadImage")})):axios.post("".concat(window.app_url,"/upload-image"),n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){if(!t.data.result)return i.showMessage("custom","Error","growl-danger","screen-error","La imagen no se pudo cargar, verifique e intente de nuevo.\n                            Si el problema persiste contacte al administrador del sistema."),!1;i.id=t.data.image_id,i.url="".concat(window.app_url,"/").concat(t.data.image_url),i.$emit("changeImage",i.id),$("#imgDelete").tooltip({delay:{hide:100}})})).catch((function(t){i.logs("ImageManagementComponent",120,t,"uploadImage")}))},deleteImage:function(t){var e=this;t=void 0!==n(t)&&t?{force_delete:t}:{};e.id&&bootbox.confirm("Esta seguro de querer eliminar la imagen?",(function(i){i&&axios.delete("".concat(window.app_url,"/upload-image/").concat(e.id),t).then((function(t){t.data.result?(e.id="",e.url="".concat(window.app_url,"/images/no-image2.png")):$.gritter.add({title:"Error!",text:t.data.message,class_name:"growl-danger",image:"/images/screen-error.png",sticky:!1,time:2500})})).catch((function(t){e.logs("ImageManagementComponent",165,t,"deleteImage")}))}))}},mounted:function(){this.url=this.imgDefault?this.imgDefault:"".concat(window.app_url,"/images/no-image2.png")}},o=(i("TfKK"),i("KHd+")),r=Object(o.a)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"text-center"},[i("img",{staticClass:"img-fluid default-image-style",style:{width:t.imgWidth,height:t.imgHeight},attrs:{src:t.url,alt:"Imagen",id:"showImage",title:"Click para cargar o modificar la imagen","data-toggle":"tooltip"},on:{click:function(e){return t.selectImage("image")}}}),t._v(" "),i("input",{staticClass:"hide-image-file",attrs:{type:"file",id:"image",name:"image",accept:"image/*"},on:{change:function(e){return t.uploadImage("image")}}}),t._v(" "),""!==t.id?i("div",{staticClass:"row",class:{"row-delete-img":!t.id}},[i("div",{staticClass:"col-12"},[i("div",{staticClass:"text-center"},[i("a",{staticClass:"btn btn-primary btn-simple btn-img-action",attrs:{id:"imgDelete",href:"javascript:void(0)",title:"Eliminar imagen","data-toggle":"tooltip"},on:{click:function(e){return e.preventDefault(),t.deleteImage(!0)}}},[i("i",{staticClass:"fa fa-times"})])])])]):t._e()])}),[],!1,null,null,null);e.default=r.exports},nKPL:function(t,e,i){var n=i("9qIu");"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};i("aET+")(n,a);n.locals&&(t.exports=n.locals)}}]);