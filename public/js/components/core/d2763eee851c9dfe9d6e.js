(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"KHd+":function(t,a,e){"use strict";function i(t,a,e,i,o,s,n,c){var r,l="function"==typeof t?t.options:t;if(a&&(l.render=a,l.staticRenderFns=e,l._compiled=!0),i&&(l.functional=!0),s&&(l._scopeId="data-v-"+s),n?(r=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(n)},l._ssrRegister=r):o&&(r=c?function(){o.call(this,this.$root.$options.shadowRoot)}:o),r)if(l.functional){l._injectStyles=r;var d=l.render;l.render=function(t,a){return r.call(a),d(t,a)}}else{var u=l.beforeCreate;l.beforeCreate=u?[].concat(u,r):[r]}return{exports:t,options:l}}e.d(a,"a",(function(){return i}))},dI0l:function(t,a,e){"use strict";e.r(a);var i={data:function(){return{record:{id:"",accounting_account_id:"",name:"",description:"",formula:"",active:!1},errors:[],records:[],accounting_accounts:[],columns:["name","description","formula","accounting_account","active","id"]}},props:{accountingAccount:{type:Boolean,required:!0,default:!1}},methods:{reset:function(){this.record={id:"",accounting_account_id:this.accountingAccount?"":null,name:"",description:"",formula:"",active:!1}},getAccountingAccounts:function(){var t=this;t.accounting_accounts=[],axios.get("/accounting/accounts").then((function(a){a.data.records.length>0&&(t.accounting_accounts.push({id:"",text:"Seleccione..."}),$.each(a.data.records,(function(){t.accounting_accounts.push({id:this.id,text:"".concat(this.code," - ").concat(this.denomination)})})))})).catch((function(a){t.logs("DeductionsComponent",258,a,"getAccountingAccounts")}))}},created:function(){this.table_options.headings={name:"Nombre",description:"Descripción",formula:"Fórmula",accounting_account:"Cuenta Contable",active:"Activa",id:"Acción"},this.table_options.sortable=["name","description"],this.table_options.filterable=["name","description"],this.table_options.columnsClasses={name:"col-md-2",description:"col-md-3",formula:"col-md-2",accounting_account:"col-md-2",active:"col-md-1",id:"col-md-2"}},mounted:function(){var t=this;t.switchHandler("active"),$("#add_deduction").on("show.bs.modal",(function(){t.reset(),t.getAccountingAccounts()})),$(".btn-formula").on("click",(function(){t.record.formula+=$(this).data("value")}))}},o=e("KHd+"),s=Object(o.a)(i,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-xs-2 text-center"},[e("a",{staticClass:"btn-simplex btn-simplex-md btn-simplex-primary",attrs:{href:"#",title:"Registros de Deducciones","data-toggle":"tooltip"},on:{click:function(a){return t.addRecord("add_deduction","deductions",a)}}},[e("i",{staticClass:"icofont icofont-mathematical-alt-2 ico-3x"}),t._v(" "),e("span",[t._v("Deducciones")])]),t._v(" "),e("div",{staticClass:"modal fade text-left",attrs:{tabindex:"-1",role:"dialog",id:"add_deduction"}},[e("div",{staticClass:"modal-dialog vue-crud",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),e("div",{staticClass:"modal-body"},[t.errors.length>0?e("div",{staticClass:"alert alert-danger"},[e("ul",t._l(t.errors,(function(a){return e("li",[t._v(t._s(a))])})),0)]):t._e(),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Nombre:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.record.name,expression:"record.name"}],staticClass:"form-control input-sm",attrs:{type:"text",placeholder:"Nombre","data-toggle":"tooltip",title:"Indique el nombre de la deducción (requerido)"},domProps:{value:t.record.name},on:{input:function(a){a.target.composing||t.$set(t.record,"name",a.target.value)}}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.record.id,expression:"record.id"}],attrs:{type:"hidden"},domProps:{value:t.record.id},on:{input:function(a){a.target.composing||t.$set(t.record,"id",a.target.value)}}})]),t._v(" "),t.accountingAccount?e("div",{staticClass:"form-group"},[e("label",[t._v("Cuenta Contable:")]),t._v(" "),e("select2",{attrs:{options:t.accounting_accounts},model:{value:t.record.accounting_account_id,callback:function(a){t.$set(t.record,"accounting_account_id",a)},expression:"record.accounting_account_id"}})],1):t._e()]),t._v(" "),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Descripción:")]),t._v(" "),e("ckeditor",{staticClass:"form-control",attrs:{editor:t.ckeditor.editor,"data-toggle":"tooltip",title:"Indique la descripción de la deducción",config:t.ckeditor.editorConfig,"tag-name":"textarea",rows:"3"},model:{value:t.record.description,callback:function(a){t.$set(t.record,"description",a)},expression:"record.description"}})],1)])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Fórmula")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.record.formula,expression:"record.formula"}],staticClass:"form-control input-sm",attrs:{type:"text","data-toggle":"tooltip",title:"Fórmula a aplicar para la deducción. Utilice la siguiente calculadora para establecer los parámetros de la fórmula",readonly:""},domProps:{value:t.record.formula},on:{input:function(a){a.target.composing||t.$set(t.record,"formula",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"offset-sm-3 col-sm-6 text-center"},[e("div",{staticClass:"btn btn-info btn-sm btn-formula-clear",attrs:{"data-toggle":"tooltip",title:"Reinicia el campo de la fórmula"},on:{click:function(a){t.record.formula=""}}},[t._v("C")]),t._v(" "),e("div",{staticClass:"btn btn-info btn-sm btn-formula",attrs:{"data-toggle":"tooltip",title:"presione para agregar este dígito","data-value":"0"}},[t._v("0")]),t._v(" "),e("div",{staticClass:"btn btn-info btn-sm btn-formula",attrs:{"data-toggle":"tooltip",title:"presione para agregar el separador de decimales","data-value":"."}},[t._v(".")]),t._v(" "),e("div",{staticClass:"btn btn-info btn-sm btn-formula",attrs:{"data-toggle":"tooltip",title:"presione para agregar el signo de división","data-value":"/"}},[t._v("/")])])]),t._v(" "),t._m(4)])]),t._v(" "),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Activa")]),t._v(" "),e("div",{staticClass:"col-md-12"},[e("label",{attrs:{for:""}},[e("div",{staticClass:"bootstrap-switch-mini"},[e("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.record.active,expression:"record.active",modifiers:{lazy:!0}}],staticClass:"form-control bootstrap-switch",attrs:{type:"checkbox",name:"active",id:"active","data-toggle":"tooltip","data-on-label":"SI","data-off-label":"NO",title:"Indique si la deducción se encuentra activa",value:"true","data-record":"active"},domProps:{checked:Array.isArray(t.record.active)?t._i(t.record.active,"true")>-1:t.record.active},on:{change:function(a){var e=t.record.active,i=a.target,o=!!i.checked;if(Array.isArray(e)){var s=t._i(e,"true");i.checked?s<0&&t.$set(t.record,"active",e.concat(["true"])):s>-1&&t.$set(t.record,"active",e.slice(0,s).concat(e.slice(s+1)))}else t.$set(t.record,"active",o)}}})])])])])])])]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("div",{staticClass:"form-group"},[e("modal-form-buttons",{attrs:{saveRoute:"deductions"}})],1)]),t._v(" "),e("div",{staticClass:"modal-body modal-table"},[e("v-client-table",{attrs:{columns:t.columns,data:t.records,options:t.table_options},scopedSlots:t._u([{key:"active",fn:function(a){return e("div",{staticClass:"text-center"},[!0===a.row.active?e("span",{staticClass:"text-bold text-success"},[t._v("SI")]):e("span",{staticClass:"text-bold text-danger"},[t._v("NO")])])}},{key:"accounting_account",fn:function(a){return e("div",{staticClass:"text-center"},[null!==a.row.accounting_account?e("span",[t._v("\n                                "+t._s(a.row.accounting_account.group)+".\n                                "+t._s(a.row.accounting_account.subgroup)+".\n                                "+t._s(a.row.accounting_account.item)+".\n                                "+t._s(a.row.accounting_account.generic)+".\n                                "+t._s(a.row.accounting_account.specific)+".\n                                "+t._s(a.row.accounting_account.subspecific)+"\n                            ")]):e("span",[t._v("\n                                NO REGISTRADA\n                            ")])])}},{key:"id",fn:function(a){return e("div",{staticClass:"text-center"},[e("button",{staticClass:"btn btn-warning btn-xs btn-icon btn-action",attrs:{title:"Modificar registro","data-toggle":"tooltip",type:"button"},on:{click:function(e){return t.initUpdate(a.row.id,e)}}},[e("i",{staticClass:"fa fa-edit"})]),t._v(" "),e("button",{staticClass:"btn btn-danger btn-xs btn-icon btn-action",attrs:{title:"Eliminar registro","data-toggle":"tooltip",type:"button"},on:{click:function(e){return t.deleteRecord(a.row.id,"deductions")}}},[e("i",{staticClass:"fa fa-trash-o"})])])}}])})],1)])])])])}),[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])]),this._v(" "),a("h6",[a("i",{staticClass:"icofont icofont-mathematical-alt-2 inline-block"}),this._v("\n                        Deducción\n                    ")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"offset-sm-3 col-sm-6 text-center"},[a("div",{staticClass:"btn btn-info btn-sm btn-formula",attrs:{"data-toggle":"tooltip",title:"presione para agregar este dígito","data-value":"1"}},[this._v("1")]),this._v(" "),a("div",{staticClass:"btn btn-info btn-sm btn-formula",attrs:{"data-toggle":"tooltip",title:"presione para agregar este dígito","data-value":"2"}},[this._v("2")]),this._v(" "),a("div",{staticClass:"btn btn-info btn-sm btn-formula",attrs:{"data-toggle":"tooltip",title:"presione para agregar este dígito","data-value":"3"}},[this._v("3")]),this._v(" "),a("div",{staticClass:"btn btn-info btn-sm btn-formula",attrs:{"data-toggle":"tooltip",title:"presione para agregar el digno de suma","data-value":"+"}},[this._v("+")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"offset-sm-3 col-sm-6 text-center"},[a("div",{staticClass:"btn btn-info btn-sm btn-formula",attrs:{"data-toggle":"tooltip",title:"presione para agregar este dígito","data-value":"4"}},[this._v("4")]),this._v(" "),a("div",{staticClass:"btn btn-info btn-sm btn-formula",attrs:{"data-toggle":"tooltip",title:"presione para agregar este dígito","data-value":"5"}},[this._v("5")]),this._v(" "),a("div",{staticClass:"btn btn-info btn-sm btn-formula",attrs:{"data-toggle":"tooltip",title:"presione para agregar este dígito","data-value":"6"}},[this._v("6")]),this._v(" "),a("div",{staticClass:"btn btn-info btn-sm btn-formula",attrs:{"data-toggle":"tooltip",title:"presione para agregar el signo de resta","data-value":"-"}},[this._v("-")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"offset-sm-3 col-sm-6 text-center"},[a("div",{staticClass:"btn btn-info btn-sm btn-formula",attrs:{"data-toggle":"tooltip",title:"presione para agregar este dígito","data-value":"7"}},[this._v("7")]),this._v(" "),a("div",{staticClass:"btn btn-info btn-sm btn-formula",attrs:{"data-toggle":"tooltip",title:"presione para agregar este dígito","data-value":"8"}},[this._v("8")]),this._v(" "),a("div",{staticClass:"btn btn-info btn-sm btn-formula",attrs:{"data-toggle":"tooltip",title:"presione para agregar este dígito","data-value":"9"}},[this._v("9")]),this._v(" "),a("div",{staticClass:"btn btn-info btn-sm btn-formula",attrs:{"data-toggle":"tooltip",title:"presione para agregar el signo de multiplicación","data-value":"*"}},[this._v("*")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"offset-sm-3 col-sm-6 col-btn-block text-center"},[a("div",{staticClass:"btn btn-info btn-sm btn-formula btn-block",attrs:{"data-toggle":"tooltip",title:"Variable a usar para el monto deducible cuando se realice el cálculo","data-value":"monto"}},[this._v("\n                                            DEDUCIBLE\n                                        ")])])])}],!1,null,null,null);a.default=s.exports}}]);