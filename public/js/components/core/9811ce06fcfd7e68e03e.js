(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"KHd+":function(t,e,s){"use strict";function a(t,e,s,a,o,i,n,r){var l,d="function"==typeof t?t.options:t;if(e&&(d.render=e,d.staticRenderFns=s,d._compiled=!0),a&&(d.functional=!0),i&&(d._scopeId="data-v-"+i),n?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(n)},d._ssrRegister=l):o&&(l=r?function(){o.call(this,this.$root.$options.shadowRoot)}:o),l)if(d.functional){d._injectStyles=l;var c=d.render;d.render=function(t,e){return l.call(e),c(t,e)}}else{var u=d.beforeCreate;d.beforeCreate=u?[].concat(u,l):[l]}return{exports:t,options:d}}s.d(e,"a",(function(){return a}))},if6y:function(t,e,s){"use strict";s.r(e);var a={data:function(){return{start_delete_at:"",end_delete_at:"",module_delete_at:"",records:[],columns:["deleted_at","module","registers","id"]}},methods:{restore:function(t,e){var s=this;s.loading=!0,axios.post("/app/restore-record",{module:t,id:e}).then((function(t){t.data.result&&(s.readRecords(),s.showMessage("custom","Éxito","success","screen-ok","Registro restaurado con éxito")),s.loading=!1})).catch((function(t){console.error(t)}))},readRecords:function(){var t=this;t.loading=!0,axios.post("/app/deleted-records",{start_delete_at:t.start_delete_at,end_delete_at:t.end_delete_at,module_delete_at:t.module_delete_at}).then((function(e){e.data.result&&void 0!==e.data.records&&(t.records=e.data.records),t.loading=!1})).catch((function(t){console.error(t)}))}},created:function(){this.table_options.headings={deleted_at:"Fecha",module:"Módulo",registers:"Registros",id:"Acción"},this.table_options.sortable=["deleted_at","module","registers"],this.table_options.filterable=["deleted_at","module","registers"],this.table_options.columnsClasses={deleted_at:"col-md-1",module:"col-md-4",registers:"col-md-6",id:"col-md-1"}},mounted:function(){this.readRecords()}},o=s("KHd+"),i=Object(o.a)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"card"},[t._m(0),t._v(" "),s("div",{staticClass:"card-body"},[s("div",{staticClass:"row"},[t._m(1),t._v(" "),s("div",{staticClass:"form-group col-md-2"},[s("div",{staticClass:"input-group input-sm"},[t._m(2),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.start_delete_at,expression:"start_delete_at"}],staticClass:"form-control",attrs:{type:"date","data-toggle":"tooltip",title:"Desde la fecha",placeholder:"Fecha"},domProps:{value:t.start_delete_at},on:{input:function(e){e.target.composing||(t.start_delete_at=e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group col-md-2"},[s("div",{staticClass:"input-group input-sm"},[t._m(3),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.end_delete_at,expression:"end_delete_at"}],staticClass:"form-control",attrs:{type:"date","data-toggle":"tooltip",title:"Hasta la fecha",placeholder:"Fecha"},domProps:{value:t.end_delete_at},on:{input:function(e){e.target.composing||(t.end_delete_at=e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group col-md-2"},[s("div",{staticClass:"input-group input-sm"},[t._m(4),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.module_delete_at,expression:"module_delete_at"}],staticClass:"form-control",attrs:{type:"text","data-toggle":"tooltip",title:"Módulo en donde el registro fue eliminado",placeholder:"Módulo"},domProps:{value:t.module_delete_at},on:{input:function(e){e.target.composing||(t.module_delete_at=e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group col-md-2"},[s("button",{staticClass:"btn btn-info btn-icon btn-xs px-3",attrs:{type:"button","data-toggle":"tooltip",title:"Buscar registros eliminados"},on:{click:t.readRecords}},[s("i",{staticClass:"fa fa-search"})])])]),t._v(" "),t._m(5),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("v-client-table",{attrs:{columns:t.columns,data:t.records,options:t.table_options},scopedSlots:t._u([{key:"registers",fn:function(e){return s("div",{domProps:{innerHTML:t._s(e.row.registers)}})}},{key:"id",fn:function(e){return s("div",{staticClass:"text-center"},[s("button",{staticClass:"btn btn-success btn-xs btn-icon btn-action",attrs:{title:"Restaurar registro","data-toggle":"tooltip",type:"button"},on:{click:function(s){return t.restore(e.row.module,e.row.id)}}},[s("i",{staticClass:"fa fa-check"})])])}}])})],1)])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header"},[e("h6",{staticClass:"card-title"},[this._v("Restaurar Registros eliminados")]),this._v(" "),e("div",{staticClass:"card-btns"},[e("a",{staticClass:"card-minimize btn btn-card-action btn-round",attrs:{href:"javascript:void(0)",title:"Minimizar","data-toggle":"tooltip"}},[e("i",{staticClass:"now-ui-icons arrows-1_minimal-up"})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-md-2"},[e("b",[this._v("Filtros")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"input-group-addon"},[e("i",{staticClass:"now-ui-icons ui-1_calendar-60"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"input-group-addon"},[e("i",{staticClass:"now-ui-icons ui-1_calendar-60"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"input-group-addon"},[e("i",{staticClass:"now-ui-icons design_app"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("span",{staticClass:"form-text text-muted"},[this._v("\n                            A continuación se muestran los 20 registros eliminados más recientes.\n                            Si desea obtener mayor información, debe indicar los parámetros de búsqueda.\n                        ")])])])}],!1,null,null,null);e.default=i.exports}}]);